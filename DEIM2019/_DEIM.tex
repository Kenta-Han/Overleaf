\documentclass{deimj}
\usepackage[dvipdfmx]{graphicx}
\usepackage[ipaex]{pxchfon}
\usepackage[hyphens]{url}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{otf}

% 印刷位置調整 %
% 必要に応じて値を変更してください．
\hoffset -10mm % <-- 左に 10mm 移動
\voffset -10mm % <-- 上に 10mm 移動

\newcommand{\AmSLaTeX}{%
$\mathcal A$\lower.4ex\hbox{$\!\mathcal M\!$}$\mathcal S$-\LaTeX}
\newcommand{\PS}{{\scshape Post\-Script}}
\def\BibTeX{{\rmfamily B\kern-.05em{\scshape i\kern-.025em b}\kern-.08em
T\kern-.1667em\lower.7ex\hbox{E}\kern-.125em X}}

\papernumber{DEIM Forum 2019 H7-2}

% \jtitle{未訪問エリアの理解支援のための既訪問スポットに基づく類推情報提示手法}
\jtitle{ユーザの既訪問スポットの位置付けに基づく未訪問スポットの説明手法}
%\jsubtitle{サブタイトル} <- サブタイトルを付けたいときはこの行の先頭の % を取る
\authorlist{%
 \authorentry[em18011@ns.kogakuin.ac.jp]{潘 健太}{KENTA HAN}{UnivN}
 \authorentry[kitayama@cc.kogakuin.ac.jp]{北山 大輔}{DAISUGE KITAYAMA}{UnivN}
 }

\affiliate[UnivN]{工学院大学大学院工学研究科情報学専攻\hskip1zw
  〒163--8677 東京都新宿区西新宿1--24--2}
 {School of Engineering，Kogakuin University\\
  1--24--2，Nisisinjyuku，Tokyo，163--8677 Japan}

\begin{document}
\pagestyle{empty}
\begin{jabstract}
近年，ユーザはWeb上の観光情報を活用して旅行計画を立てることが多くなっている．
しかし，旅行は未訪問スポットに行くことが多いため，観光情報を適切に入手することは困難である．
また，ユーザの未知なスポットに対する理解を支援するために，訪問したことがある観光スポットの特徴を用いて，未訪問エリアの観光スポットを説明する方法を提案する．
本研究では，まず，観光スポットのユーザレビューを用いて特徴ベクトルを作成する．
次に，ユーザにとっての観光スポットの位置付けを抽出するためにあるスポットに対し，既に訪れたスポットと比較した相対的特徴ベクトルを算出する．
最後に，相対的特徴ベクトル間の類似度に基づいて既訪問スポットと未訪問スポットを関連付けし，その関係性を説明するためのキーワードを抽出する．
また，プロトタイプシステムを構築し，既訪問スポットと未訪問スポットとの説明情報の効果を検証する評価実験を行う．
\end{jabstract}

\begin{jkeyword}
観光スポット，理解支援，ユーザレビュー，分散表現
\end{jkeyword}
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{はじめに}
\label{sec:はじめに}
旅行先を決定するとき，旅行者は観光スポット検索サイトや観光情報に関連する書籍を見て観光スポットを選び，旅行計画を立てる．
しかし，ユーザにとって訪問したいエリアを決定した後，さらにエリア内に数多く存在する観光スポットから，自身のイメージから外れない観光スポットを見つけることは容易ではない．
このとき，ユーザは観光スポット検索サイトのランキングやおすすめ情報を見て観光スポットを決めることが多くなると考えられる．
Tripadvisor\footnote{https://www.tripadvisor.com/}やじゃらん\footnote{https://www.jalan.net/kankou/}などの観光スポット検索サイトでは，特定の観光スポットを訪問したことのあるユーザがレビューを投稿するため，観光スポットに関する豊富な情報が存在している．
しかし，ユーザは検索エリアに関する事前知識がないため，検索された観光スポットを1つずつ確認する必要がある．
そのため，さまざまな観光スポットを効果的に理解するためには，ユーザが訪問した経験のあるスポットを使って未訪問スポットと比較することは効果的と考えられる．
この考え方は，ユーザが以前に経験した物事を現在の物事に適用する一種の類推である．
例えば，日本の東京の「表参道」のような未訪問スポットは，パリでは「デシャンゼリゼ通り」と表現されていると，日本を初めて訪れるフランス人旅行者は「表参道」を理解しやすいと考えられる．

本研究では，ユーザの未知なスポットに対する理解を支援するため，既に訪問したことがある観光スポットの特徴を用いて，未訪問エリアの観光スポットを説明する手法を提案する．
本手法では，ユーザは既に訪問した経験のあるスポットと未訪問エリアを入力する．
そのとき，観光スポットのユーザレビューを用いて特徴ベクトルを作成する．
次に，ユーザにとっての観光スポット位置付けを抽出するためにあるスポットに対し，既に訪れたスポットと比較した相対的特徴ベクトルを算出する．
最後に，相対的特徴ベクトル間の類似度に基づいて既訪問スポットと未訪問スポットのを関連付けし，その関係性を説明するためのキーワードを抽出する．
抽出したキーワードを提示することで，ユーザの未訪問スポットに対する理解の支援を目指す．図\ref{fig:Photo_Image}は提案手法の概念図である．

本論文の構成は下記のとおりである．
2節では，関連研究について述べる．
3節では，提案手法の概要について述べる．
4節では，キーワード抽出の効果を検証する評価実験と考察について述べる．
5節では，構築したプロトタイプシステムの効果を検証する評価実験と考察について述べる．
6節では，未訪問スポット説明の有効性を検証する評価実験と考察について述べる．
最後に，7節では，まとめと今後の課題について述べる．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{関連研究}
\label{sec:関連研究}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{観光スポット検索と推薦システム}
ユーザの体験履歴を利用した検索や推薦システムに関する研究は数多く発表されている．
倉島ら\cite{Codd01}は，Flickrに投稿された写真のジオタグ情報を人々の旅行履歴として利用した旅行ルート推薦手法を提案した．
この手法では，ユーザの現在地から行きやすい場所とユーザの興味に合致した場所に移動しやすいと仮定し，行動モデルを生成している．
ユーザのジオタグ付き写真集合は，時間情報でソートすると個人の旅行履歴とみなすことができると考え，ジオタグ情報を利用してユーザの行動モデルを生成している．
北村らは\cite{Codd02}，一般的な物体認識を用いて，過去の個人旅行写真から推定したユーザの旅行の嗜好に基づき観光地を推薦する方法を提案した．
物体認識システムを用いて，写真で撮った被写体情報のキーワードを取得し，グラフ視覚化技術によってキーワードの共起を表現した．
また，グラフの視覚化技術に基づいて旅行写真付きのグラフを視覚化するユーザインターフェイスを紹介した．
Chengらは\cite{Codd03}，自由に利用できるコミュニティ投稿の写真を活用して，パーソナライズされた旅行のおすすめに焦点を当て，特定のユーザプロファイルまたは属性を考慮し，パーソナライズされた旅行の推奨を行うことを提案した．

\subsection{類推とその応用}
類推は創造的思考に貢献すると指摘されてた\cite{Codd04}．
既知の知識(ベースと呼ぶ)から概念(ターゲットと呼ぶ)を獲得するときに類推思考が働くとされる\cite{Codd05}．
類推に関する研究の多くは，ベースとなる学習データとターゲットとなる問題が与えられ，物事の特徴を問題の特徴にマッピングして問題を解決するもの\cite{Codd06}である．
Gickらは，不確定な問題の解を見つけるためのガイドとして，異種ドメイン間の類推の使用を調査するように設計した．
学習データの与え方や機能について研究したもの\cite{Codd07}や，認知的な熟達度に応じて問題を解決するかどうかを明らかにしたもの\cite{Codd08}がある．
これらを含む従来研究の多くにおいては，類推に用いるベースとターゲットを与えたうえで，一定の手順にしたがって問題解決を行っている.
また，構造の類似性には3種類あり，特徴の共有数で決まる「対象レベルの類似性」，ベースに存在する関係とターゲットに存在する関係の共有度に基づく「関係レベルの類似性」，および題の解法あるいは目標レベルでの類似性である「プラグマティックな類似性」とがある\cite{Codd05}，\cite{Codd09}．

従来のユーザの体験履歴を利用する手法では，履歴写真のジオタグ情報を分析し，ユーザの嗜好とする研究が多く行われている．
また，類推技術に関して学習支援で多く用いられている．
本研究では，既訪問スポットと未訪問スポットのレビューを使って，ユーザ既訪問スポット集合と未訪問スポット集合のそれぞれ集合の各スポットの相対的特徴を求め，関連付けることによって，スポットに対する理解を支援するための説明情報を提示することができる．
また，本研究では，類推の質を明示的に扱うため，構造の類似性「関係レベルの類似性」に近いと考えられる．

\begin{figure}[t]
  \begin{center}
    \includegraphics[clip,width=7.0cm]{picture/Photo_Image_jap.png}
    \caption{ユーザの既訪問スポットの位置付けに基づく未訪問スポットの説明手法}
    \label{fig:Photo_Image}
   \end{center}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{未訪問スポットの説明手法}
\label{sec:未訪問スポットの説明手法}
我々は，ユーザの既訪問スポットの位置付けに基づいて未訪問スポットの説明手法を提案する．
まず，ユーザが既に訪問した複数個の観光スポットと訪問したい観光スポットエリア情報を入力する．
本手法では，観光スポットのユーザレビューを用いて特徴ベクトルを生成する．
未訪問スポットも同様にエリア内の各スポットの特徴ベクトルを求める．
次に，ユーザの観光地の役割を抽出するためにあるスポットに対し，既に訪れたスポットと比較した相対的特徴ベクトルを算出する．
同様に，未訪問エリアの各観光スポットの相対的特徴ベクトルを，そのエリアの他の観光スポットと比較して計算する．
次に，相対的特徴ベクトルの類似性によって訪問されたスポットを未訪問スポットと関連付ける．
最後に，その関係性を説明するためのキーワードを抽出する．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{スポットのユーザレビューを用いた特徴ベクトル生成}
\label{subsec:スポットのレビューから特徴ベクトル生成}
本稿では，2016年9月末までのじゃらんから得られたレビューデータを使用する．
分散表現\cite{Codd10}を用いて観光スポットの特徴ベクトルの作成する．
このとき，観光スポット毎のレビューをまとめて1つの文書として扱う．
本研究では，分散表現を計算するためにPythonのライブラリであるgensim\footnote{https://radimrehurek.com/gensim/models/doc2vec.html}を利用する．
学習方法として，Distributed Bag-of-Wordsを利用して，各スポットの全レビューを使って300次元で作成したベクトルを使う．
既訪問スポットや未訪問スポットのレビューベクトルは，形態素解析器であるMeCab\cite{Codd11}に辞書「mecab-ipadic-NEologd」\footnote{https://github.com/neologd/mecab-ipadic-neologd/}用いて，分かち書き(原型)したレビューを利用して作成する．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{観光スポットの役割に関する相対的特徴}
\label{subsec:観光スポットの役割に関する相対的特徴}
\begin{figure}[t]
  \begin{center}
    \includegraphics[clip,width=7.0cm]{picture/Photo_CosSim_jap.png}
    \caption{類似度計算の概念図}
    \label{fig:Photo_CosSim}
  \end{center}
\end{figure}

本手法では，他の観光スポットと比較したとき相対的特徴を用いて観光スポットの役割を抽出する．
我々は，ある観光スポット集合の平均的な特徴と比較したときの相対的特徴をターゲットスポットの特徴として定義する．
たとえば，日本の有名な観光スポットの中に「東京都庁舎展望台」と「金閣寺」が存在する場合を考える．
このとき，「金閣寺」の相対的特徴は，お寺，金色，京都などである．
一方，「東京都庁舎展望台」の相対的特徴は，展望，夜景，建物，新宿などである．
さまざまな観光スポットと比較すると，相対的特徴は一般的な特徴，カテゴリ，場所になる傾向がある．

他の例として，京都の寺院の中に「金閣寺」と「清水寺」が存在する場合を考える．
このとき，「金閣寺」の相対的特徴は，金色，金箔，輝きなどである．
一方，「清水寺」の相対的特徴は，舞台や一望などである．
どちらも京都にある寺院であるため，京都や寺院に関連する特徴は相対的特徴にならない．
その代わりに，より詳細な特徴が相対的特徴として得られる．
\begin{equation}
  r_{state,i}=s_i-average(S_{state}-s_i)
  \label{math:Vector difference}
\end{equation}

相対的特徴ベクトル$r_{state,i}$は，式\ref{math:Vector difference}として定義される．
相対的特徴ベクトルは，そのスポット自体の特徴ベクトルから他のスポットの特徴ベクトルの平均を引いた値によって得られる．
$S_{state} =\{s_1,s_2,\dots,s_n\}$は，既訪問スポット集合や未訪問スポット集合となっている．
$state$は$f$のとき，既訪問スポット集合として定義する．
$state$は$u$のとき，未訪問スポット集合として定義する．
$s_i$は集合$S_{state}$内の観光スポットの特徴ベクトルを示している．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{説明スポットの決定}
\label{subsec:説明スポットの決定}
未訪問エリア内のスポットは既訪問スポットを使って説明する．
したがって，未訪問スポットと既訪問スポットを，既訪問スポット$r_{f,i}$と未訪問スポット$r_{u,j}$の相対的特徴ベクトルによって計算された類似度に基づいて関連付けを行う（図\ref{fig:Photo_CosSim}）．
類似度計算には，コサイン尺度(式\ref{math:CosSim})を用いる．
\begin{eqnarray}
  cos(r_{f,i},r_{u,j})=\frac{r_{f,i} \cdot r_{u,j}}{|r_{f,i}| \times |r_{u,j}|}
  \label{math:CosSim}
\end{eqnarray}

関連付け手順について説明する．
まず，特定のスポットに最も類似度が高いスポットと関連付ける．
このとき，類似度が閾値(本研究では0.125)以下である場合は関連付けを行わない．
また，未訪問スポットと類似度が最も高い既訪問スポットと関連付けられているか，既訪問スポットと類似度が最も高い未訪問スポットと関連付けられているかによって結果が異なる．

前者の方法では，すべての類似度が閾値を超えると，すべての既訪問スポットに対応するスポットがあるが，すべての未訪問スポットに対応するスポットがあるわけではない．
一方，後者の方法では，すべての類似度が閾値を超えると，すべての未訪問スポットに対応するスポットがある．
本手法では，未訪問スポットを説明するために後者の方法を採用する．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{説明スポットの役割語の抽出}
\label{subsec:説明するための役割語の抽出}
未訪問スポットと既訪問スポットの関係性を表すキーワードをユーザに提示する．
しかし，相対的特徴ベクトルから単語の特徴を得ることはできないので，他の方法を使って単語を抽出する．

前提として，すべてのレビューは日本語の形態素解析器MeCabによって単語を分割する．
\ref{subsec:スポットのレビューから特徴ベクトル生成}節の「mecab-ipadic-NEologd」辞書を利用する．
しかし，助詞，助動詞，連体詞，記号，ストップワードを削除する(表\ref{table:mecab})．

\begin{table}[t]
  \caption{形態素解析の例}
  \label{table:mecab}
  \centering
    \begin{tabular}{c|p{23zw}} \hline
      レビュー文書 & 園内も広く，気分転換に散歩したりするのにちょうどよい．きれいに清掃などもされていて，気分がよいです．\\
      \hline
      形態素解析 & 園内 広い 気分転換 散歩 ちょうど よい きれい 清掃 気分 よい\\
      \hline
    \end{tabular}
\end{table}

キーワード抽出手順について説明する．
まず，TFIDF法を使って対象となる既訪問スポットと未訪問スポットの特徴語とTFIDF値を求める．
次に，2つのスポットの共通する特徴語のスコアとしてTFIDF値の調和平均を計算する．
最後に，スコアが高い特徴語を説明可能な単語として抽出する．

スポット内のキーワード特徴量は，式\ref{math:TFIDF}で定義する．
\begin{equation}
  TFIDF(t,d,state) = TF(t,d) \times log\Biggr(\frac{|S_{state}|}{DF(t,state)}\Biggr)
  \label{math:TFIDF}
\end{equation}

$TF(t,d)$は，文書$d$においてのキーワード$t$の数である．
$d$は，スポットのすべてのレビューを1つにまとめた文書である．
$DF(t,state)$は，キーワード$t$を含む文書の数である．
$|S_{state}|$はスポットの総数である．
$state$が$f$の場合，ユーザが入力した既訪問スポット集合を使用してTFIDF値を計算する．
$state$が$u$の場合，ユーザが入力したエリアに含まれている未訪問スポット集合を使用してTFIDF値を計算する．

2つのスポットに共通する特徴語のTFIDF値の調和平均を用いて，関連付けした既訪問スポットと未訪問スポットの説明可能なキーワードを抽出する．
まず，既訪問スポットと未訪問スポットのレビュー文書でよく出現する単語を抽出する．
次に，抽出した単語のスコアは式\ref{math:Harmonic Mean}によって定義する．
$TFIDF(t,d,f)$と$TFIDF(t,d,u)$は同じ単語がそれぞれ既訪問スポットのTFIDF値と未訪問スポットのTFIDF値を示している．
単語スコアの値が大きいのとき，その単語は各スポットにおいて重要度が高いことを示している．
よって，単語スコアの上位$N$個の単語が説明情報としてユーザに提示する(図\ref{fig:Photo_Map})．
\begin{eqnarray}
  score(t,d) = \frac{2 \times TFIDF(t,d,f) \times TFIDF(t,d,u)}{TFIDF(t,d,f) + TFIDF(t,d,u)}
  \label{math:Harmonic Mean}
\end{eqnarray}

\begin{figure}[t]
  \begin{center}
    \includegraphics[clip,width=8.0cm]{picture/Photo_Map2_jap.png}
    \caption{プロトタイプシステムのユーザインターフェース}
    \label{fig:Photo_Map}
   \end{center}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{未訪問スポットの説明情報の例}
\label{subsec:未訪問スポットの説明情報の例}

\begin{table}[t]
  \caption{既訪問スポット集合と未訪問スポット集合}
  \label{table:既訪問スポット集合と未訪問スポット集合}
  \centering
  \begin{tabular}{l|l}
  \hline
  \multicolumn{1}{c|}{既訪問スポット名} & \multicolumn{1}{c}{未訪問スポット名} \\ \hline
  浅草寺                           & 東京ディズニーランド(R)                \\
  小田原城址公園                       & 新宿御苑                         \\
  伏見稲荷大社                        & 東京スカイツリー                     \\
  奈良公園                          & 東京タワー大展望台                    \\
  三島スカイウォーク                     & 明治神宮                         \\ \hline
  \end{tabular}
\end{table}

\begin{table*}[t]
  \caption{説明情報の例}
  \label{table:説明情報の例}
  \centering
  \begin{tabular}{l|l|l}
  \hline
  \multicolumn{1}{c|}{未訪問スポット} & \multicolumn{1}{c|}{既訪問スポット} & \multicolumn{1}{c}{説明情報}                     \\ \hline
  新宿御苑                      & 小田原城址公園                         & お花見，咲き誇る，園内，桜の時，のんびり，手入れ，自然，遊具，ツツジ          \\
  東京スカイツリー                     & 三島スカイウォーク                    & 富士山，揺れ，高所恐怖症，揺れる，天井，絶景，エレベーター，パノラマ，展望デッキ，昇る \\ \hline
  \end{tabular}
\end{table*}

\begin{table}[t]
  \caption{キーワード説明情報における評価の割合}
  \label{table:キーワード説明情報における評価の割合}
  \centering
  \begin{tabular}{c|r|r|r}
  \hline
  評価 & \multicolumn{1}{c|}{方法A} & \multicolumn{1}{c|}{方法B} & \multicolumn{1}{c}{方法C} \\ \hline
  1  & 0.00\%                   & 0.00\%                   & 0.00\%                  \\
  2  & 28.28\%                  & 31.31\%                  & 29.29\%                 \\
  3  & 35.35\%                  & 31.31\%                  & 35.35\%                 \\
  4  & 10.10\%                   & 14.14\%                  & 12.12\%                 \\
  5  & 26.26\%                  & 23.23\%                  & 23.23\%                 \\ \hline
  \end{tabular}
\end{table}

表\ref{table:既訪問スポット集合と未訪問スポット集合}は，ユーザ既訪問スポット集合と未訪問スポットの集合の例を示している．
未訪問スポットは東京都内からランダムに選んだ5つのスポットである．
表\ref{table:説明情報の例}は，\ref{sec:未訪問スポットの説明手法}節で提案した方法を用いて説明可能な単語の結果を示している．

公園という特徴に注目すると，未訪問スポット集合の中で公園に最も近いスポットは「新宿御苑」であると考えられる．
既訪問スポット集合の中には，「小田原城址公園」と「奈良公園」の2つの公園がある．
「小田原城址公園」には花や遊具に対する記述が多く，「奈良公園」には鹿や草に対する記述が多い．
「新宿御苑」には花や遊具に対する記述が多いため，「小田原城址公園」との関係性があると考えられる．

「三島スカイウォーク」は既訪問スポット集合の中で眺めがいい，高いの特徴が最も強いことが考えられる．
一方，未訪問スポット集合の中で眺めがいい，高いの特徴が強いのは「東京スカイツリー」や「東京タワー大展望台」の2つがある．
このとき，どちらも正しい回答だと考えられる．
この例では，「東京スカイツリー」はより見やすいと考えられるため関連付けされる．
また，説明キーワードとして「富士山」が抽出される．
良い景色を強調する言葉として一般的であり，これによって関係を適切に表現している．
提案手法の方は各関係の特徴を示すことができる．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{キーワード抽出に関する評価}
\label{sec:キーワード抽出評価}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験内容}
提案手法のキーワード抽出について評価を行うため，他のキーワード抽出手法と比較して評価を行う．
以下の3つの方法を使って比較する．
\begin{description}
  \item A．算術平均
  \item B．乗算
  \item C．提案手法(調和平均)
\end{description}

方法Aと方法Bは，まず，各スポットの特徴として\ref{subsec:スポットのレビューから特徴ベクトル生成}節で作成された特徴ベクトルを使用する．
そして，\ref{subsec:説明するための役割語の抽出}節を用いて既訪問スポットと未訪問スポットの特徴語とTFIDF値を求める．

キーワードを抽出するとき，方法Aでは，2つのスポットに共通する特徴語のスコアとして算術平均を計算する．抽出した単語のスコアを式\ref{math:Mean}によって定義する．
\begin{eqnarray}
  score(t,d) = \frac{TFIDF(t,d,f) + TFIDF(t,d,u)}{2}
  \label{math:Mean}
\end{eqnarray}

方法Bでは，2つのスポットに共通する特徴語のスコアとして乗算を計算する．抽出した単語のスコアを式\ref{math:Multi}によって定義する．
\begin{eqnarray}
  score(t,d) = TFIDF(t,d,f) \times TFIDF(t,d,u)
  \label{math:Multi}
\end{eqnarray}

式\ref{math:Mean}，式\ref{math:Multi}の$TFIDF(t,d,f)$と$TFIDF(t,d,u)$は同じ単語に関する既訪問スポットのTFIDF値と未訪問スポットのTFIDF値を示している．単語スコアの上位$N$個の単語を説明情報としてユーザに提示する．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験手順}
\label{subsec:実験手順}
クラウドソーシングのサービスである，CrowdWorks\footnote{https://crowdworks.jp/}を利用して23人の被験者を集めた．
各方法を用いて，被験者の既訪問スポットに基づいて，未訪問スポットの説明可能な情報を提示した．
まず，被験者は自分が既に訪れたことのある観光スポットを入力した．
被験者は4から10個のスポットを入力した．
本実験では，入力文字列とシステム内のスポット名を照会するために，入力文字列から検索したスポット名候補の中から対象スポットを選択した．
次に，被験者は旅行などに行ったことがなく，これから訪れたい都道府県やエリアを入力した．

本手法では，方法AからCそれぞれにおいて，関連付けられた既訪問スポットと未訪問スポット，およびスポット同士の関係を説明するキーワードを提示した．
キーワード(N $\le$ 5)は最大5つを提示した．
結果を評価するために，被験者は以下の5つの選択肢から1つを選んだ．
\begin{enumerate}
  \item キーワードなし．
  \item 2つのスポットには関係性があり，キーワードによって関係が明確になった．
  \item 2つのスポットの関係性があり，キーワードによって初めて気がついた．
  \item 2つのスポットには関係性があるが，キーワードは関係を表していない．
  \item 2つのスポットには関係性がない．
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験結果と考察}
% \begin{table}[t]
%   \caption{キーワード抽出実験結果}
%   \label{table:キーワード抽出実験結果}
%   \centering
%   \begin{tabular}{c|r|r|r|r}
%   \hline
%   評価 & \multicolumn{1}{c|}{方法\ajRoman{1}} & \multicolumn{1}{c|}{方法\ajRoman{2}} & \multicolumn{1}{c|}{方法\ajRoman{3}} & \multicolumn{1}{c}{合計} \\ \hline
%   1  & 0                        & 0                        & 0                        & 0                      \\
%   2  & 28                       & 31                       & 29                       & 88                     \\
%   3  & 35                       & 31                       & 35                       & 101                    \\
%   4  & 10                       & 14                       & 12                       & 36                     \\
%   5  & 26                       & 23                       & 23                       & 72                     \\ \hline
%   合計 & 99                      & 99                      & 99                      & 297                    \\ \hline
%   \end{tabular}
% \end{table}
%
% 表\ref{table:キーワード抽出実験結果}は方法\ajRoman{1}から\ajRoman{3}の各実験結果の数を示している．
% 使用可能なデータの合計は297である．

表\ref{table:キーワード説明情報における評価の割合}は，方法AからCにおける選択肢1から5それぞれの選択割合を示している．
方法Bでは，多くの被験者が選択肢2を選択している．
このことから，方法Bは明らかな関係を表現するキーワード抽出ができることがわかった．
方法AとCでは，選択肢2の割合が減少し，選択肢3の割合が増加している．
このことから，方法AとCは隠れた関係を表現するキーワード見つけて被験者に提示することができると考えた．
しかし，方法Aでは，選択肢5の割合が増加しているため，方法Cより無関係なキーワードを抽出しやすくなったといえる．
また，選択肢2と3を合計すると，方法Cが最も高くなった．
このことから，説明するためのスポットの関連を説明するキーワードの精度が最も高いといえる．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{対応付けに関する評価}
\label{sec:対応付けに関する評価}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験内容}
提案手法を他の手法と比較して評価を行う．
以下の3つの方法を使って比較する．
\begin{description}
  \item D．メタデータ(カテゴリ，滞在時間，訪問時期)
  \item E．分散表現(特徴ベクトル)
  \item C．提案手法(相対的特徴ベクトル)
\end{description}

方法Dは，観光スポット検索サイトでスポットを検索するためのメタデータである．
次のように，検索によく使われる3つのメタデータを選択する．
\begin{itemize}
 \item カテゴリ：神社・神宮・寺院，観光施設・名所巡り等
 \item 滞在時間：1時間未満，1--2時間等
 \item 訪問時期：1--12月，春，夏，秋，冬
\end{itemize}

方法Dでは，同じカテゴリ，同じ滞在時間，同じ季節の既訪問スポットと未訪問スポットを抽出する．
抽出できない場合は，季節，滞在時間，カテゴリの順に情報を削除している．
未訪問スポットが複数ある場合は，レビュー数が最も多いスポットを選択する．
最後に，\ref{subsec:説明するための役割語の抽出}節で説明した方法により説明可能な単語を抽出し，被験者に提示する．

方法Eでは，各スポットの特徴として\ref{subsec:スポットのレビューから特徴ベクトル生成}節で作成された特徴ベクトルを使用する．
そして，\ref{subsec:説明するための役割語の抽出}節を用いて説明可能な単語を抽出し，被験者に提示する．

クラウドソーシングのサービスである，CrowdWorksを利用して24人の被験者を集めた．
各方法を用いて，被験者の既訪問スポットに基づいて，未訪問スポットの説明可能な情報を提示した．実験手順は\ref{subsec:実験手順}節で説明した手順と同じである．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験結果と考察}

\begin{table}[t]
  \caption{対応付けの実験結果}
  \label{table:対応付けの実験結果}
  \centering
  \begin{tabular}{c|r|r|r|r}
  \hline
  評価 & \multicolumn{1}{c|}{方法D} & \multicolumn{1}{c|}{方法E} & \multicolumn{1}{c|}{方法C} &  \multicolumn{1}{c}{合計} \\ \hline
  1  & 0                      & 0                      & 0                       & 0                      \\
  2  & 19                     & 44                     & 32                     & 95                    \\
  3  & 20                     & 62                     & 53                      & 135                    \\
  4  & 1                      & 3                      & 3                      & 7                     \\
  5  & 6                      & 21                     & 21                     & 48                     \\\hline
  合計 & 46                     & 130                    & 109                    & 285                    \\ \hline
  \end{tabular}
\end{table}

表\ref{table:対応付けの実験結果}は方法D，EおよびCの各実験結果の数を示している．
使用可能なデータの合計は285である．
方法Dは，未訪問スポットに関連する既訪問スポットの数が最も少ない．
方法Eは，未訪問スポットに関連する既訪問スポットの数が最も多い．

\begin{table}[t]
  \caption{対応付け説明情報における評価の割合}
  \label{table:対応付け説明情報における評価の割合}
  \centering
  \begin{tabular}{c|r|r|r}
  \hline
  評価 & \multicolumn{1}{c|}{方法D} & \multicolumn{1}{c|}{方法E} & \multicolumn{1}{c}{方法C} \\ \hline
  1  & 0.00\%                     & 0.00\%                     & 0.00\% \\
  2  & 41.30\%                    & 33.85\%                    & 29.36\% \\
  3  & 43.48\%                    & 47.69\%                    & 48.62\% \\
  4  & 2.17\%                     & 2.31\%                     & 2.75\% \\
  5  & 13.04\%                    & 16.15\%                    & 19.27\% \\ \hline
  \end{tabular}
\end{table}

\begin{table}[t]
  \caption{既訪問スポットのカテゴリが異なる場合と同じ場合の評価の割合}
  \label{table:既訪問スポットのカテゴリが異なる場合と同じ場合の評価の割合}
  \centering
  \begin{tabular}{c|r|r}
  \hline
  & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}異なる場合\end{tabular}} & \multicolumn{1}{c}{\begin{tabular}[c]{@{}c@{}}同じ場合\end{tabular}} \\ \hline
  説明情報E\&評価2 & 56.82\%                            & 43.18\%                            \\
  説明情報C\&評価2 & 71.87\%                            & 28.13\%                            \\ \hline
  説明情報E\&評価3 & 51.61\%                            & 48.39\%                            \\
  説明情報C\&評価3 & 52.83\%                            & 47.17\%                            \\ \hline
\end{tabular}
\end{table}

表\ref{table:対応付け説明情報における評価の割合}は，それぞれの方法における選択肢1から5それぞれの選択割合を示している．
方法Dについて，多くの被験者が選択肢2を選択している．
このことから，方法Dは明らかな関係にあるスポット同士を関連付けることができることがわかった．
他の方法と比較して，方法C(提案手法)では，選択肢2の割合が減少し，選択肢3の割合が増加している．
このことから，方法Cは隠れた関係を見つけて被験者に提示することができると考えた．
しかし，選択肢5の割合も増加しているため，無関係なスポットを抽出しやすくなったといえる．

選択肢2と3を合計すると，方法Dが最も高くなる．
このことから，説明するためのスポットの関連付けの精度が最も高いといえる．
しかし，方法Dは対応付けすることができるスポットの数が少数であり，未訪問スポットの多くに説明を付与することができない．

我々は，選択肢2と3はトレードオフの関係にあると考ている．
選択肢2は説明する必要がない関係であり，選択肢3は説明に値する関係である．
選択肢2を維持しながら，選択肢3をできるだけ増やすことが重要であると考える．
この観点から，方法Eと提案手法は同程度の精度を示していると考えられる．

選択肢3は，キーワードの抽出に失敗した場合に選択肢5になる可能性が高いと考えられる．
したがって，キーワード抽出方法の改善が必要である．

方法Eと方法Cでは，被験者が入力した既訪問スポットのカテゴリが異なる場合は同様の傾向を示した．
既訪問スポット集合では，同一カテゴリに含むスポットが半数を超えた場合はカテゴリは同じと定義する．
それ以外の場合はカテゴリは異なると定義する．
表\ref{table:既訪問スポットのカテゴリが異なる場合と同じ場合の評価の割合}は選択肢2と選択肢3の評価の割合である．
提案手法である方法Cを使用すると，被験者が既訪問スポットと関係なしで，被験者に有用なキーワードを提示することができる．
相対的特徴ベクトルを用いることによって，カテゴリをこえて各スポットの特徴を求めることができるといえる．
既訪問スポットのジャンルが類似する場合では，方法Eの方がより良い評価となっている．
入力スポットの種類によって対応付け手法を切り変えることが有効と考えられる．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{未訪問スポット説明の有効性評価}
\label{sec:未訪問スポット説明の有効性評価}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{実験内容}
提案手法の有効性を評価するために以下の２つのシステムを使って比較する．
\begin{description}
  \item a．未訪問スポット名のみを表示
  \item b．未訪問スポット名，関連する入力スポット，関連を説明するキーワードを表示(提案手法)
\end{description}

被験者は4個から10個の自分が既に訪れたことのある観光スポットを入力した．
本実験では，入力文字列とシステム内のスポット名を照会するために，入力文字列から検索したスポット名候補の中から対象スポットを選択した．
次に，被験者は旅行などに行ったことがなく，これから訪れたい異なる2つの都道府県やエリアを入力した．
これに対し，システムaとシステムbはランダムな順番で実行される.
システムを評価するために，被験者は以下の2つの設問について回答した．
また，それらの選択理由について自由記述で答えた．
\begin{enumerate}
  \item 表示されたスポットの詳細情報はどちらの方が分かりやすいかを選択してください．
  \item 旅行の計画を立てる際にどちらの方が使いたいかを選択してください．
\end{enumerate}

\subsection{実験結果と考察}
スポットの詳細情報はどちらの方が分かりやすいかに対する回答について，システムaとシステムbの結果はそれぞれ12件と38件となった．
被験者の回答理由の例を表\ref{table:被験者がシステムaの方が良いと回答した例}(システムa)および，表\ref{table:被験者がシステムbの方が良いと回答した例}(システムb)に示す．
また，旅行の計画を立てる際にどちらの方が使いたいかに対する回答について，システムaとシステムbの結果はそれぞれ10件と40件となった．
被験者の回答より，得られた2つのシステムの特徴をまとめる．

システムbでは，キーワードや関連している情報が表示されており分かりやすいというの特徴がある．
これに対し，システムaでは，スポット名のみが表示されているためシンプルで分かり安いという特徴があるが，なぜそのスポットが検索されたのか分からないなどの否定的な回答も多数ある．
システムの表示情報が「シンプルな方が良い」と「詳細な情報が良い」の2つに大きく分けられているが，80\%の被験者はシステムbの方が使いたいと回答しており，提案手法の方が良い結果であるといえる．
また，システムbに関してスポットの写真を載せるとより分かりやすいなどの意見があり，画像による関連性の説明という拡張が考えられる．

\begin{table}[t]
  \caption{被験者がシステムaの方が良いと回答した例}
  \label{table:被験者がシステムaの方が良いと回答した例}
  \centering
  \begin{tabular}{l}
  \hline
  \begin{tabular}[c]{@{}l@{}}スポット名だけ書いてあるのでごちゃごちゃにならず、一目でどこに\\ 何があるか分かるからです．\end{tabular} \\ \hline
  スポットだけ表示されるところがシンプルで分かりやすかったから．                                                         \\ \hline
  シンプルにそのエリアの観光スポットを知ることが出来る．                                                             \\ \hline
  \end{tabular}
\end{table}

\begin{table}[t]
  \caption{被験者がシステムbの方が良いと回答した例}
  \label{table:被験者がシステムbの方が良いと回答した例}
  \centering
  \begin{tabular}{l}
  \hline
  自分が訪れた事のあるスポットと関連性があり連想しやすいから．                                                 \\ \hline
  \begin{tabular}[c]{@{}l@{}}どのような場所か想像しやすいので、計画を立てるのにも使いたい\\ と思ったから．\end{tabular} \\ \hline
  何と関連して表示された等詳細の情報が表示されわかりやすかった．                                                  \\ \hline
  \end{tabular}
\end{table}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{まとめと今後の課題}
\label{sec:まとめと今後の課題}

本研究では，ユーザが行きたい観光スポットが決まっていない場合に，ユーザの事前知識が不足しているため，観光検索サイトを使用してランキング，おすすめ情報やカテゴリなどを基に検索された観光スポットに対する理解が困難であることに着目した．
未訪問スポットに対する理解を支援するために，未訪問スポットをユーザが既に訪れたことがある既訪問スポットと比較することによって，理解を支援する説明手法を提案した．

評価実験では，3つのキーワード抽出手法および3つの対応付け手法を用いて比較を行った．
キーワード抽出評価について，提案手法の方が既訪問スポットに夜未訪問スポットの説明性が高いことを確認した．
対応付け手法の結果として，カテゴリを利用する場合では，未訪問スポットと関係する既訪問スポット最も少なくなることがわかった．
相対的特徴ベクトルと調和平均を利用することによって，各スポットの特徴を求めることができた．
また，未訪問スポットと既訪問スポットに対して意外性がある関連付けが可能で，ユーザが知らない観光スポットに対する興味と関心を集めることができる可能性があることを確認した．
システム評価について，提案手法の方がより詳細な情報を提示しているため，ユーザが未訪問スポットをイメージしやすいことを確認した．

今後の課題としては，レビュー数が少ないスポットに対する関連付けの精度が低いため，新たな方法を検討する必要がある．また，レビューを分析するときに重み付けの方法を検討する必要がある．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{謝辞}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
本研究の一部は，平成30年度科研費基盤研究(C)(課題番号：18K11551)によるものです．ここに記して謝意を表すものとします．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 文献　Reference
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{2em}
\begin{thebibliography}{99}
  \bibitem{Codd01}
    T. Kurashima, T. Iwata, G. Irie and K. Fujimura.,
      ``Travel route recommendation using geotags in photo sharing sites'',
      CIKM '10 Proceedings of the 19th ACM international conference on Information and knowledge management, pp.579-588, 2010
  \bibitem{Codd02}
    R. Kitamura and T. Itoh,
      ``Tourist Spot Recommmendation Applying Generic Object Recognition with Travel Photos'',
      ITE Tech. Rep., Vol.42, No.12, AIT2018-94, pp.185-188, 2018
  \bibitem{Codd03}
    A. J. Cheng, Y. Y. Chen, Y. T. Huang and Winston H. Hsu,
      ``Personalized Travel Recommendation by Mining People Attributes from Community-Contributed Photos'',
      MM '11 Proceedings of the 19th ACM international conference on Multimedia, pp.83-92, 2011
  \bibitem{Codd04}
    K. J. Holyoak and P. Thagard,
      ``Mental Leaps: Analogy in Creative Thought, MIT Press'',
      Journal of Japanese Society for Artificial Intelligence,  Vol.11, No.3,  pp.489, 1996
  \bibitem{Codd05}
    D. Gentner,
      ``Structure-Mapping: A Theoretical Framework for Analogy'',
      Cognitive Science, Vol.7, pp.155–170, 1983
  \bibitem{Codd06}
    M. L. Gick and K. J. Holyoak,
      ``Analogical Problem Solving'',
      Cognitive Psychology, Vol.12, pp.306–355, 1980
  \bibitem{Codd07}
    M. L. Gick and K. J. Holyoak,
      ``Scheme Induction and Similarity in Analogical Transfer'',
      Cognitive Psychology, Vol.15, pp.1–38, 1983
  \bibitem{Codd08}
    Z. Chen and M. W. Daehler,
      ``Positive and Negative Transfer in Analogical Problem-solving by 6-years-old Children'',
      Cognitive Development, Vol.4, No.4, pp.327–344, 1989
  \bibitem{Codd09}
    K. J. Holyoak and P. Thagard,
      ``Analogical Mapping by Constraint Satisfaction'',
      Cognitive Science, Vol.13, pp.295–355, 1989
  \bibitem{Codd10}
    Quoc V. Le and Tomas Mikolov,
      ``Distributed representations of sentences and documents'',
      In Proceedings of the 31th International Conference on Machine Learning, ICML 2014, pp. 1188–1196, 2014
  \bibitem{Codd11}
    T. Kudo, K. Yamamoto and Y. Matsumoto,
      ``Applying Conditional Random Fields to Japanese Morphological Analysis'',
      Proceedings of the 2004 Conference on Empirical Methods in Natural Language Processing (EMNLP-2004), pp.230-237, 2004
\end{thebibliography}

\end{document}
